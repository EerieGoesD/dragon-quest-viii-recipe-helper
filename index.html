<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Dragon Quest VIII – Alchemy Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Inventory and recipe tracker for Dragon Quest VIII Alchemy Pot combinations.">
    <meta name="author" content="Eerie Goes D">

    <link href="css/main.css" rel="stylesheet">
    <script src="js/main.js" defer></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HKB92KJKRW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-HKB92KJKRW');
    </script>
</head>
<body>
<div class="container">

    <!-- Navbar -->
    <div class="navbar">
        <div class="navbar-inner">
            <h1>Dragon Quest VIII – Alchemy Tracker</h1>
        </div>
    </div>

    <!-- Welcome Alert -->
    <div class="alert alert-info">
        <strong>Welcome!</strong>
        I'm <a href="https://linktr.ee/eeriegoesd" target="_blank">Eerie Goes D</a>, and welcome to this simple
        Dragon Quest VIII Alchemy Tracker.
        Feel free to leave any feedback by reaching out to me via email at
        <a href="mailto:eeriegoesd@gmail.com">eeriegoesd@gmail.com</a>
        or just add me on
        <a href="https://steamcommunity.com/profiles/76561198217097379/" target="_blank">Steam</a>!
    </div>

    <!-- Warning Alert -->
    <div class="alert alert-warning">
        <strong>Warning!</strong> Your progress is automatically saved in this browser, but it will be lost if you
        delete its cookies. You can save/load your state by using the import/export progress buttons.
    </div>

    <!-- Progress Management Buttons -->
    <div class="progress-buttons">
        <button id="export-state-btn" class="btn btn-export">Export Progress</button>
        <button class="btn btn-import">
            <label for="import-state-input" class="import-label">Import Progress...</label>
        </button>
        <input id="import-state-input" type="file" accept=".json" style="display:none;">
    </div>

    <!-- Quick Navigation -->
    <div class="quick-navigation">
        <h4>Quick Navigation:</h4>
        <ul>
            <li><a href="#inventory-panel">Inventory</a></li>
            <li><a href="#all-recipes-panel">All Recipes</a></li>
            <li><a href="#craftable-panel">Craftable Recipes</a></li>
            <li><a href="#craftable-not-created-panel">Craftable (Not Created)</a></li>
            <li><a href="#your-recipes-panel">Your Recipe List</a></li>
            <li><a href="#optimizer-panel">Equipment Optimizer</a></li>
        </ul>
    </div>

    <!-- Overall summary -->
    <div id="overall-summary" class="overall-progress">
        0 / 0 recipes created – 0 / 0 recipes currently craftable
    </div>

    <!-- Main layout -->
    <div class="layout">

        <!-- Inventory -->
        <section class="panel inventory-panel" id="inventory-panel">
            <h2>Inventory – Items You Own</h2>
            <p class="small-text">
                Tick every item you currently have (equipment + items). The tracker will compute which
                recipes are craftable and the optimizer will use the equipped gear to pick the best loadout.
            </p>
            <div id="inventory-list" class="inventory-list">
                <!-- Filled by JS -->
            </div>
        </section>

        <!-- Recipes + Optimizer -->
        <section class="panel recipes-panel" id="all-recipes-panel">
            <h2>All Alchemy Recipes</h2>

            <p class="small-text">
                Columns: Category, Result item, Ingredients, Craftable?, Created.
                Use the filters below to show only equipment recipes, only item recipes, or both.
            </p>

            <div class="recipe-filters">
                <label>
                    <input type="checkbox" id="filter-equipment" checked>
                    Equipment
                </label>
                <label>
                    <input type="checkbox" id="filter-items" checked>
                    Items (Cheese / Medicine / Other)
                </label>
            </div>

            <div class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead>
                    <tr>
                        <th>Category</th>
                        <th>Result</th>
                        <th>Ingredients</th>
                        <th>Craftable?</th>
                        <th>Created</th>
                    </tr>
                    </thead>
                    <tbody id="recipes-body">
                    <!-- Filled by JS -->
                    </tbody>
                </table>
            </div>

            <!-- Craftable recipes (all) -->
            <div id="craftable-panel">
                <h3>Craftable Recipes (based on current inventory)</h3>
                <p id="craftable-summary" class="small-text">0 / 0 recipes craftable.</p>
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th>Category</th>
                            <th>Result</th>
                            <th>Ingredients</th>
                        </tr>
                        </thead>
                        <tbody id="craftable-body">
                        <!-- Filled by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Craftable recipes not created -->
            <div id="craftable-not-created-panel">
                <h3>Craftable Recipes (that you haven't created before)</h3>
                <p id="craftable-not-created-summary" class="small-text">
                    0 craftable recipes that are not yet created.
                </p>
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th>Category</th>
                            <th>Result</th>
                            <th>Ingredients</th>
                        </tr>
                        </thead>
                        <tbody id="craftable-not-created-body">
                        <!-- Filled by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Your recipe list -->
            <div id="your-recipes-panel">
                <h3>Your Recipe List (already created)</h3>
                <p class="small-text">
                    This mirrors the "Created" ticks above. Useful as a quick checklist of what you've done.
                </p>
                <ul id="created-list" class="created-list">
                    <!-- Filled by JS -->
                </ul>
            </div>

            <!-- Equipment Optimizer -->
            <section class="optimizer-panel" id="optimizer-panel">
                <h2>Equipment Optimizer</h2>
                <p class="small-text">
                    Tick all <strong>equipment</strong> you own in the Inventory on the left
                    (weapons, armour, shields, helmets), then click the button below.
                    The calculator simply picks the highest Attack weapon and the highest Defence
                    armour/shield/helmet each character can equip from your inventory.
                </p>
                <button id="optimizer-run-btn" class="btn btn-export">Calculate optimal equipment</button>
                <div id="optimizer-output" class="optimizer-output">
                    <!-- Filled by JS -->
                </div>
            </section>

        </section>
    </div><!-- /.layout -->
</div><!-- /.container -->
</body>
</html>
